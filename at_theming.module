<?php

/**
 * Wrapper function to support both phptemplate & twig template
 */
function at_theming_render_template($template_file, $variables = array()) {
  $template_type = at_theming_detect_template_type($template_file);
  if ('phptemplate' === $template_type) {
    return theme_render_template($template_file, $variables);
  }
  return \Drupal\at_theming\Twig::render($template_file, $variables);
}

/**
 * Detect template type by file name.
 */
function at_theming_detect_template_type($file_name) {
  $path_info = pathinfo($file_name);

  switch ($path_info['extension']) {
    case 'php':
      return 'phptemplate';
  }

  return 'twig';
}
